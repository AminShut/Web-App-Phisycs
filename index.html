<!DOCTYPE html>
<html lang="fa" dir="rtl">
<!-- salam -->
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>فیزیک هالیدی</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="app-header">
        <div class="pendulum-icon">
            <div class="pendulum-base"></div>
            <div class="pendulum-string"></div>
            <div class="pendulum-ball"></div>
        </div>
        <span class="app-title">فیزیک هالیدی</span>
        <div class="theme-toggle" id="themeToggle">
            <span class="material-icons">dark_mode</span>
        </div>
    </header>

    <div class="container">
        <main>
            <!-- Main Screen -->
            <div class="screen active" id="mainScreen">
                <div class="main-header">
                    <div class="physics-logo">
                        <div class="atom-core"></div>
                        <div class="electron-orbit orbit-a"></div>
                        <div class="electron-orbit orbit-b"></div>
                        <div class="electron-orbit orbit-c"></div>
                        <div class="electron electron-1"></div>
                        <div class="electron electron-2"></div>
                        <div class="electron electron-3"></div>
                    </div>
                    <h1 class="app-title">فیزیک هالیدی</h1>
                    <h3 class="university-title">دانشگاه تربیت دبیر شهید رجایی</h3>
                </div>
                
                <div class="main-menu">
                    <div class="action-button" id="questionsBtn">
                        <span class="material-icons">help_outline</span>
                        <span>حل مسائل</span>
                    </div>
                    <div class="action-button" id="tutorialsBtn">
                        <span class="material-icons">biotech</span>
                        <span>آموزش‌ها</span>
                    </div>
                </div>
                
                <div class="main-actions">
                    <div class="action-button" id="aboutUsBtn">
                        <span class="material-icons">info</span>
                        <span>درباره ما</span>
                    </div>
                    <div class="action-button" id="booksBtn">
                        <span class="material-icons">auto_stories</span>
                        <span>کتاب‌ها</span>
                    </div>
                    <div class="action-button" id="contactUsBtn">
                        <span class="material-icons">contact_support</span>
                        <span>ارتباط با ما</span>
                    </div>
                </div>
            </div>
            
            <!-- Books Screen -->
            <div class="screen" id="booksScreen">
                <div class="screen-header-container">
                    <h2 class="screen-title">
                        دریافت کتاب‌های فیزیک هالیدی
                    </h2>
                    <button class="back-button" id="backToMainFromBooks">
                        <span class="material-icons">arrow_back</span>
                        بازگشت
                    </button>
                </div>
                <div class="books-container">
                    <div class="book-card">
                        <div class="book-icon">
                            <span class="material-icons">language</span>
                        </div>
                        <h3>فیزیک هالیدی چاپ دهم (اصلی)</h3>
                        <p class="book-description">نسخه اصلی کتاب فیزیک هالیدی به زبان انگلیسی</p>
                        <a href="https://drive.google.com/file/d/1rk34E9zpRWheg771k_bJmT2JKic_DZx1/view?usp=sharing" target="_blank" class="book-download-btn">
                            <span class="material-icons">download</span>
                            دریافت کتاب
                        </a>
                    </div>
                    
                    <div class="book-card">
                        <div class="book-icon">
                            <span class="material-icons">translate</span>
                        </div>
                        <h3>فیزیک هالیدی چاپ دهم (فارسی)</h3>
                        <p class="book-description">نسخه ترجمه شده کتاب فیزیک هالیدی به زبان فارسی</p>
                        <a href="https://drive.google.com/file/d/1riqDpNwJpQiIZLiouu8HH73JIC0qwRTR/view?usp=sharing" target="_blank" class="book-download-btn">
                            <span class="material-icons">download</span>
                            دریافت کتاب
                        </a>
                    </div>
                </div>
                <!-- دکمه بازگشت ثابت -->
                <button class="fixed-back-button" id="fixedBackToMainFromBooks">
                    <span class="material-icons">arrow_back</span>
                </button>
            </div>
            
            <!-- About Us Screen -->
            <div class="screen" id="aboutUsScreen">
                <div class="screen-header-container">
                    <h2 class="screen-title">
                        درباره ما
                    </h2>
                    <button class="back-button" id="backToMainFromAboutUs">
                        <span class="material-icons">arrow_back</span>
                        بازگشت
                    </button>
                </div>
                <div class="about-section">
                    <div class="about-icon">
                        <span class="material-icons">school</span>
                    </div>
                    <h2>آموزش و حل مسائل فیزیک</h2>
                    <p>این اپلیکیشن به منظور کمک به دانشجویان فیزیک و دانش‌آموزان علاقه‌مند به فیزیک طراحی شده است. در این برنامه، نمونه‌های حل شده‌ی مسائل کتاب فیزیک هالیدی به همراه آموزش‌های مربوطه ارائه شده است.</p>
                    <div class="university-info">
                        <div class="university-logo">
                            <span class="material-icons">account_balance</span>
                        </div>
                        <h3>دانشگاه تربیت دبیر شهید رجایی</h3>
                        <p>این پروژه توسط دانشجویان دانشگاه تربیت دبیر شهید رجایی تهیه و ارائه شده است.</p>
                    </div>
                </div>
                <!-- دکمه بازگشت ثابت -->
                <button class="fixed-back-button" id="fixedBackToMainFromAboutUs">
                    <span class="material-icons">arrow_back</span>
                </button>
            </div>

            <!-- Questions Chapters Screen -->
            <div class="screen" id="questionsChaptersScreen">
                <div class="screen-header-container">
                    <h2 class="screen-title">
                        فصل‌های کتاب
                    </h2>
                    <button class="back-button" id="backToMainFromQuestionsChapters">
                        <span class="material-icons">arrow_back</span>
                        بازگشت
                    </button>
                </div>
                <div class="chapter-list" id="questionsChaptersList">
                    <!-- Chapters will be dynamically generated here -->
                </div>
                <!-- دکمه بازگشت ثابت -->
                <button class="fixed-back-button" id="fixedBackToMainFromQuestionsChapters">
                    <span class="material-icons">arrow_back</span>
                </button>
            </div>

            <!-- Questions List Screen -->
            <div class="screen" id="questionsListScreen">
                <div class="screen-header-container">
                    <h2 class="screen-title" id="questionsListTitle">
                        سوالات
                    </h2>
                    <button class="back-button" id="backToQuestionsChapters">
                        <span class="material-icons">arrow_back</span>
                        بازگشت
                    </button>
                </div>
                <div class="questions-container" id="questionsList">
                    <!-- Questions will be dynamically generated here -->
                </div>
                <!-- دکمه بازگشت ثابت -->
                <button class="fixed-back-button" id="fixedBackToQuestionsChapters">
                    <span class="material-icons">arrow_back</span>
                </button>
            </div>

            <!-- Question Detail Screen -->
            <div class="screen" id="questionDetailScreen">
                <div class="screen-header-container">
                    <h2 class="screen-title" id="questionDetailTitle">
                        جزئیات سوال
                    </h2>
                    <button class="back-button" id="backToQuestionsList">
                        <span class="material-icons">arrow_back</span>
                        بازگشت
                    </button>
                </div>
                <div class="question-content">
                    <div class="question-text" id="questionText">
                        لینک سوال اینجا قرار می‌گیرد.
                    </div>
                    <div class="question-navigation">
                        <button class="nav-button prev-button" id="prevQuestionBtn">
                            <span class="material-icons">arrow_back</span>
                            <span>سوال قبلی</span>
                        </button>
                        <button class="nav-button next-button" id="nextQuestionBtn">
                            <span>سوال بعدی </span>
                            <span class="material-icons">arrow_forward</span>
                        </button>
                    </div>
                </div>
                <!-- دکمه بازگشت ثابت -->
                <button class="fixed-back-button" id="fixedBackToQuestionsList">
                    <span class="material-icons">arrow_back</span>
                </button>
            </div>

            <!-- Tutorials Chapters Screen -->
            <div class="screen" id="tutorialsChaptersScreen">
                <div class="screen-header-container">
                    <h2 class="screen-title">
                        آموزش‌ها
                    </h2>
                    <button class="back-button" id="backToMainFromTutorialsChapters">
                        <span class="material-icons">arrow_back</span>
                        بازگشت
                    </button>
                </div>
                <div class="chapter-list" id="tutorialsChaptersList">
                    <!-- Chapters will be dynamically generated here -->
                </div>
                <!-- دکمه بازگشت ثابت -->
                <button class="fixed-back-button" id="fixedBackToMainFromTutorialsChapters">
                    <span class="material-icons">arrow_back</span>
                </button>
            </div>

            <!-- Tutorial Detail Screen -->
            <div class="screen" id="tutorialDetailScreen">
                <div class="screen-header-container">
                    <h2 class="screen-title" id="tutorialDetailTitle">
                        آموزش
                    </h2>
                    <button class="back-button" id="backToTutorialsChapters">
                        <span class="material-icons">arrow_back</span>
                        بازگشت
                    </button>
                </div>
                <div class="question-content">
                    <div class="tutorial-text" id="tutorialText">
                        لینک آموزش اینجا قرار می‌گیرد.
                    </div>
                    <div class="tutorial-navigation">
                        <button class="nav-button prev-button" id="prevTutorialBtn">
                            <span class="material-icons">arrow_back</span>
                            <span>آموزش قبلی</span>
                        </button>
                        <button class="nav-button next-button" id="nextTutorialBtn">
                            <span>آموزش بعدی</span>
                            <span class="material-icons">arrow_forward</span>
                        </button>
                    </div>
                </div>
                <!-- دکمه بازگشت ثابت -->
                <button class="fixed-back-button" id="fixedBackToTutorialsChapters">
                    <span class="material-icons">arrow_back</span>
                </button>
            </div>
        </main>
    </div>

    <!-- Back to top button -->
    <button id="back-to-top" class="back-to-top" aria-label="Back to top">
        <span class="material-icons">arrow_upward</span>
    </button>

    <!-- Footer -->
    <footer class="app-footer">
        <div class="footer-copyright">
            © 2025 فیزیک هالیدی. تمامی حقوق محفوظ است.
        </div>
    </footer>

    <!-- اضافه کردن مودال ارتباط با ما -->
    <div class="modal" id="contactModal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>ارتباط با ما</h2>
            <p>برای گزارش مشکلات، پیشنهادات یا سوالات خود، می‌توانید از طریق یکی از راه‌های زیر با ما در ارتباط باشید:</p>
            
            <div class="contact-methods">
                <div class="contact-item">
                    <span class="material-icons">telegram</span>
                    <div class="contact-info">
                        <h3>تلگرام</h3>
                        <p><a href="https://t.me/ahmadidahr" target="_blank">@ahmadidahr</a></p>
                    </div>
                </div>
                
                <div class="contact-item">
                    <span class="material-icons">email</span>
                    <div class="contact-info">
                        <h3>ایمیل</h3>
                        <p><a href="mailto:aminahmadidahr1385@gmail.com">aminahmadidahr1385@gmail.com</a></p>
                    </div>
                </div>
            </div>
            
            <p class="contact-note">ما از بازخوردهای شما استقبال می‌کنیم و به زودی به پیام‌های شما پاسخ خواهیم داد.</p>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Debugging code to check booksScreen functionality
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM fully loaded');
            console.log('booksScreen element:', document.getElementById('booksScreen'));
            document.getElementById('booksBtn').addEventListener('click', function() {
                console.log('Books button clicked');
                console.log('is booksScreen in screens object:', 'booksScreen' in window.screens);
            });
        });

        // اضافه کردن به history مرورگر هنگام نمایش صفحات مختلف
        window.addEventListener('DOMContentLoaded', () => {
            // اضافه کردن event listener به همه دکمه‌های ناوبری بین صفحات
            document.querySelectorAll('.back-button, .chapter-card, .action-button, .question-card').forEach(button => {
                button.addEventListener('click', function() {
                    // اضافه کردن حالت فعلی به تاریخچه قبل از تغییر صفحه
                    const currentScreen = document.querySelector('.screen.active')?.id || 'homeScreen';
                    window.history.pushState({screen: currentScreen}, document.title);
                    
                    // اسکرول به بالای صفحه هنگام تغییر صفحه
                    window.scrollTo(0, 0);
                });
            });
            
            // نمایش دکمه بازگشت ثابت هنگام اسکرول
            window.addEventListener('scroll', function() {
                // اگر بیشتر از 200 پیکسل اسکرول شد، دکمه بازگشت ثابت را نمایش بده
                const fixedBackButtons = document.querySelectorAll('.fixed-back-button');
                const activeScreen = document.querySelector('.screen.active');
                
                if (window.scrollY > 200 && activeScreen) {
                    const activeScreenId = activeScreen.id;
                    
                    // نمایش دکمه بازگشت مربوط به صفحه فعال
                    fixedBackButtons.forEach(button => {
                        if (button.id.includes(activeScreenId.replace('Screen', ''))) {
                            button.classList.add('visible');
                        } else {
                            button.classList.remove('visible');
                        }
                    });
                } else {
                    // مخفی کردن همه دکمه‌های بازگشت ثابت
                    fixedBackButtons.forEach(button => {
                        button.classList.remove('visible');
                    });
                }
            });
            
            // اضافه کردن event listener به دکمه‌های بازگشت ثابت
            document.querySelectorAll('.fixed-back-button').forEach(button => {
                button.addEventListener('click', function() {
                    // پیدا کردن دکمه بازگشت متناظر و کلیک روی آن
                    const backButtonId = this.id.replace('fixed', '');
                    const backButton = document.getElementById(backButtonId);
                    if (backButton) {
                        backButton.click();
                    }
                    // اسکرول به بالای صفحه
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                });
            });
            
            // تابع نمایش صفحه - اصلاح شده برای اسکرول به بالا
            window.showScreen = function(screenId) {
                // مخفی کردن همه صفحات
                document.querySelectorAll('.screen').forEach(screen => {
                    screen.classList.remove('active');
                });
                
                // نمایش صفحه مورد نظر
                const targetScreen = document.getElementById(screenId);
                if (targetScreen) {
                    targetScreen.classList.add('active');
                    // اسکرول به بالای صفحه
                    window.scrollTo(0, 0);
                }
            };
            
            // افزودن منطق اسکرول به بالا برای سایر توابع مرتبط
            if (window.loadChapterQuestions) {
                const originalLoadChapterQuestions = window.loadChapterQuestions;
                window.loadChapterQuestions = function(chapterId) {
                    originalLoadChapterQuestions(chapterId);
                    window.scrollTo(0, 0);
                };
            }
            
            if (window.loadQuestion) {
                const originalLoadQuestion = window.loadQuestion;
                window.loadQuestion = function(questionId) {
                    originalLoadQuestion(questionId);
                    window.scrollTo(0, 0);
                };
            }
        });

        // کد اضافی برای پشتیبانی بهتر از دکمه بازگشت مرورگر در موبایل
        window.addEventListener('load', function() {
            // ایجاد یک state اولیه در تاریخچه برای جلوگیری از خارج شدن از اپلیکیشن با دکمه بازگشت
            window.history.pushState({ noExit: true }, document.title);
        });
    </script>
</body>
</html> 